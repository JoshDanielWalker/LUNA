name: "Version"	

on:	
  push:	
    branches:	
      - "master"	   
      - "release"	
      - "release/**"	

jobs:	
  bump-version:	
    name: "Version"	
    runs-on: ubuntu-latest	
    steps:	
      - name: "Checkout source code"	
        uses: "actions/checkout@master"	
        with:	
          ref: ${{ github.ref }}	
      - name: "Submodules"	
        uses: snickerbockers/submodules-init@v4	
      - name: "Version"	
      - uses: paulhatch/semantic-version@v1-beta
        with:
          # The branch to count commits on
          branch: "master"
          # The prefix to use to identify tags
          tag_prefix: "v"
          # A string which, if present in a git commit, indicates that a change represents a major (breaking) change
          major_pattern: "(MAJOR)"
          # Same as above except indicating a minor change
          minor_pattern: "(MINOR)"
          # A string to determine the format of the version output
          format: "${major}.${minor}.${patch}-prerelease.${increment}"
        env:	
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
